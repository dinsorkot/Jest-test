"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.installQuasarPlugin = void 0;
const globals_1 = require("@jest/globals");
const test_utils_1 = require("@vue/test-utils");
const lodash_es_1 = require("lodash-es");
const quasar_1 = require("quasar");
// All Quasar components are registered by default if no `components` option
// is provided via these helper options
// TODO: why this happens is currently unknown, but handy.
// We know those components aren't available into config.global.components,
// so it must be something happening into Vue Test Utils or Jest.
function installQuasarPlugin(options) {
    const globalConfigBackup = (0, lodash_es_1.cloneDeep)(test_utils_1.config.global);
    // We must execute this outside a `beforeAll`
    // or `mount` calls outside `test` context (eg. called into a `describe` context and shared by multiple tests)
    // won't have those defaults applied
    test_utils_1.config.global.plugins.unshift([quasar_1.Quasar, options]);
    (0, globals_1.afterAll)(() => {
        test_utils_1.config.global = globalConfigBackup;
    });
}
exports.installQuasarPlugin = installQuasarPlugin;
//# sourceMappingURL=install-quasar-plugin.js.map